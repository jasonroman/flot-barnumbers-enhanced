!function(a){"use strict";function c(b){a.each(b.getData(),function(c,d){var e,f,g,h,i=0,j=d.bars.numbers;if(e=a.isFunction(j.xAlign)?j.xAlign:d.bars.horizontal?function(a){return a/2}:function(a){return a+d.bars.barWidth/2},f=a.isFunction(j.yAlign)?j.yAlign:d.bars.horizontal?function(a){return a+d.bars.barWidth/2}:function(a){return a/2},g=d.bars.horizontal?0:1,!j.show)return!1;var k=d.datapoints.points,l=b.getCanvas().getContext("2d"),m=b.getPlotOffset();l.font=j.font,l.fillStyle=j.fontColor,l.textBaseline="middle",l.textAlign="center",j.threshold&&(i=Math.max.apply(Math,k)*j.threshold);var n={0:"x",1:"y"};for(h=0;h<k.length;h+=d.datapoints.pointsize){var o,p=j.xOffset,q=j.yOffset,r=h+g;j.threshold&&(d.bars.horizontal?k[r]>=i?(p=-1*p,l.textAlign="end"):l.textAlign="start":k[r]<i?(q=-1*q,l.textBaseline="alphabetic"):l.textBaseline="top");var s={x:e(k[h]),y:f(k[h+1])};null==d.stack||d.stack===!1?o=k[r]:(s[n[g]]=k[r]-d.data[h/3][g]/2,o=d.data[h/3][g]);var t=b.p2c(s);a.isFunction(j.formatter)&&(o=j.formatter(o)),l.fillText(o.toString(10),t.left+m.left+p,t.top+m.top+q)}})}function d(a){a.hooks.draw.push(c)}var b={bars:{numbers:{show:!1,threshold:!1,yOffset:0,xOffset:0}}};a.plot.plugins.push({init:d,options:b,name:"barnumbers-enhanced",version:"1.0"})}(jQuery);