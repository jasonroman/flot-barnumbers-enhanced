!function(a){"use strict";function c(a,b){var c=b.series.bars.numbers;c.show=c.show||!1,c.threshold=c.threshold||!1,c.xOffset=c.xOffset||0,c.yOffset=c.yOffset||0}function d(b){a.each(b.getData(),function(c,d){var e,f,g,h,i=d.bars.numbers;if(!i.show)return!1;e=a.isFunction(i.xAlign)?i.xAlign:d.bars.horizontal?function(a){return a/2}:function(a){return a+d.bars.barWidth/2},f=a.isFunction(i.yAlign)?i.yAlign:d.bars.horizontal?function(a){return a+d.bars.barWidth/2}:function(a){return a/2},g=d.bars.horizontal?0:1;var j=d.datapoints.points,k=b.getCanvas().getContext("2d"),l=b.getPlotOffset();k.font=i.font,k.fillStyle=i.fontColor,k.textBaseline="middle",k.textAlign="center";var m={0:"x",1:"y"};for(h=0;h<j.length;h+=d.datapoints.pointsize){var n,o=i.xOffset,p=i.yOffset,q=h+g,r={x:e(j[h]),y:f(j[h+1])};null==d.stack||d.stack===!1?n=j[q]:(r[m[g]]=j[q]-d.data[h/3][g]/2,n=d.data[h/3][g]),a.isFunction(i.formatter)&&(n=i.formatter(n)),i.threshold&&d.bars.horizontal?j[q]>=b.getAxes().xaxis.max*i.threshold?(o*=-1,k.textAlign="end"):k.textAlign="start":i.threshold&&!d.bars.horizontal&&(j[q]<b.getAxes().yaxis.max*i.threshold?(p*=-1,k.textBaseline="alphabetic"):k.textBaseline="top");var s=b.p2c(r);k.fillText(n.toString(10),s.left+l.left+o,s.top+l.top+p)}})}function e(a){a.hooks.processOptions.push(c),a.hooks.draw.push(d)}var b={bars:{numbers:{}}};a.plot.plugins.push({init:e,options:b,name:"barnumbers-enhanced",version:"1.0"})}(jQuery);