!function(a){"use strict";function c(a,b){var c=b.series.bars.barWidth,d=b.series.bars.numbers,e=b.series.bars.horizontal;e?(d.xAlign=d.xAlign||function(a){return a/2},d.yAlign=d.yAlign||function(a){return a+c/2},d.horizontalShift=0):(d.xAlign=d.xAlign||function(a){return a+c/2},d.yAlign=d.yAlign||function(a){return a/2},d.horizontalShift=1)}function d(b){a.each(b.getData(),function(c,d){var e,f=0;if(!d.bars.numbers.show)return!1;var g=d.datapoints.points,h=b.getCanvas().getContext("2d"),i=b.getPlotOffset();h.textAlign="center",h.font=d.bars.numbers.font,h.fillStyle=d.bars.numbers.fontColor,d.bars.numbers.threshold&&(f=Math.max.apply(Math,g)*d.bars.numbers.threshold);var j=d.bars.numbers.xAlign,k=d.bars.numbers.yAlign,l="number"==typeof j?function(a){return a+j}:j,m="number"==typeof k?function(a){return a+k}:k,n={0:"x",1:"y"},o=d.bars.numbers.horizontalShift;for(e=0;e<g.length;e+=d.datapoints.pointsize){var p,q=d.bars.numbers.yOffset,r=e+d.bars.numbers.horizontalShift;d.bars.numbers.threshold&&g[r]<f?(q=-1*q+3,h.textBaseline="bottom"):h.textBaseline="top";var s={x:l(g[e]),y:m(g[e+1])};null==d.stack||d.stack===!1?p=g[r]:(s[n[o]]=g[r]-d.data[e/3][o]/2,p=d.data[e/3][o]);var t=b.p2c(s);a.isFunction(d.bars.numbers.formatter)&&(p=d.bars.numbers.formatter(p)),h.fillText(p.toString(10),t.left+i.left,t.top+i.top+q)}})}function e(a){a.hooks.processOptions.push(c),a.hooks.draw.push(d)}var b={bars:{numbers:{show:!1,threshold:!1,yOffset:0}}};a.plot.plugins.push({init:e,options:b,name:"barnumbers",version:"1.0"})}(jQuery);
